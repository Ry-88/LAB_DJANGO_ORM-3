{% load static%}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <style>  </style>
    <title> Home Page </title>
  </head>
  {% block error %}
  <body >

    <div class="container ">
        <header class="d-flex flex-wrap justify-content-between py-3 mb-4 border-bottom">
          <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
            <svg class="bi me-2" width="40" height="32"><use xlink:href="#bootstrap"></use></svg>
            <span class="fs-4"> Movies </span>
          </a>
    
          <ul class="nav nav-pills">
            {% block nav%}
            <li class="nav-item"><a href="{% url 'new_movie:home_page'%}" class="nav-link active" aria-current="page">Home</a></li>
            <li class="nav-item"><a href="{% url 'new_movie:add_page'%}" class="nav-link">Add Movie</a></li>
            <li class="nav-item"><a href="{% url 'new_movie:view_page'%}" class="nav-link">All Movies</a></li>
            {%endblock%}
            
            <form action="{% url 'new_movie:search_page'%}" method="GET" class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
              <input name="search" type="search" class="form-control" placeholder="Search..." aria-label="Search">
            </form>
            
          </ul>
        </header>

        <p class="fs-4"> <h2> {% block page %}  Home Page {% endblock %} </h2> </p>
        <div class="row ">
          
            <div class="col d-grid row-gap-4" style="margin-bottom: 10px; text-align: center;">
              <div style="margin-bottom: 30px">
                <a class="btn btn-primary bg-primary" style="width: 18rem; ;"  type="button"  href="{% url 'new_movie:add_page'%}">
                  <h4> Add Movie </h4>
                </a>
                <a class="btn btn-primary" style="width: 18rem; " type="button" href="{% url 'new_movie:view_page'%}">
                   <h4> All Movies </h4>
                  </a>
              </div>

              <div class="container">
                {% block process%}
                <div class="row g-3 justify-content-center">
                  {% for movie in movies %}
                  <div class="col-4 mb-3" >

                    <div class="card rounded-5" >
                        <img src="{{ movie.image.url }}" class="card-img-top rounded-5" style=" height: 30vh;" alt="...">
                        <div class="card-body" >
                        <h5 class="card-title">{{ movie.title }}</h5>
                        <p class="card-text" style=" overflow: scroll; height: 80px; text-overflow: ellipsis;">{{movie.content}}</p>
                        <p class="card-text">is published? {{movie.is_published}}</p>
                        <p class="card-text">publish date {{movie.publish_date}}</p>
                        <a class="btn btn-primary" type="button" href="{% url 'new_movie:detail_page' movie.id %}"> Details</a>
                        </div>
                      </div>
                  </div>
                    {% endfor %}
                </div>
                  {% endblock %}
              </div>

            </div>
        
        
       


    </div>
    
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  </body>
  {%endblock%}
</html>